<!--

-->
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- Sets the basepath for the library if not in same directory -->
    <script type="text/javascript">
        mxBasePath = '../src';
    </script>

    <!-- Loads and initializes the library -->
    <script type="text/javascript" src="../src/js/mxClient.js"></script>
    <script type="text/javascript" src="./mxGraphUtils.js"></script>

    <!-- Example code -->
    <script type="text/javascript">


        // 程序从这里开始。在具有指定ID的DOM节点中创建一个示例图。
        // 该函数从文档的onLoad事件处理程序调用（见下文）。
        function main(container) {
            // 检查浏览器是否受支持
            mxGraphUtils.checkBrowserOrError();

            // 在给定的容器内创建图
            var graph = new mxGraph(container);
            // 获取插入新单元的默认父级。这通常是root的第一个子节点（即层0）。
            var parent = graph.getDefaultParent();

            // 启用节点选择
            // graph.setEnabled(true);
            // graph.setConnectable(false);
            // graph.setCellsEditable(false);
            // graph.setCellsResizable(false);
            // 创建自定义样式


            mxGraphUtils.initStyles(graph);

            // 启用图的自动布局
            var layout = mxGraphUtils.setCompactTreeLayout(graph);
            mxGraphUtils.regTreeNodeShape(graph, layout);


            mxGraphUtils.insertToGraph(graph, parent, function (parent) {
                var node1 = mxGraphUtils.newMyNode({
                    'graph':graph,
                    'parent':parent,
                    'step':0,
                    'w1':320,
                    'h1':200,

                });

                var node2 = mxGraphUtils.newMyNode({
                    'graph':graph,
                    'parent':parent,
                    'step':1,
                    'w1':320,
                    'h1':200,

                });

                var node3 = mxGraphUtils.newMyNode({
                    'graph':graph,
                    'parent':parent,
                    'step':2,
                    'w1':320,
                    'h1':200,

                });


                // 创建连接线
                graph.insertEdge(parent, null, '', node1, node2);
                graph.insertEdge(parent, null, '', node1, node3);
                // graph.insertEdge(parent, null, '', node1, node22);

                layout.execute();




            });


        };

    </script>
</head>


<!-- Page passes the container for the graph to the program -->
<body onload="main(document.getElementById('graphContainer'))">

<!-- Creates a container for the graph with a grid wallpaper -->
<div id="graphContainer"
     style="position:relative;overflow:hidden;cursor:default;">
</div>
</body>
</html>

